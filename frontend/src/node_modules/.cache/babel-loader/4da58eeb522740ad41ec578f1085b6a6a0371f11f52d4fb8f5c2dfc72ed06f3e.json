{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alexis\\\\OneDrive - Iowa State University\\\\Documents\\\\2023FallSemester\\\\SE_319\\\\GitPersonalRepo\\\\ReactWebsite\\\\frontend\\\\src\\\\DeleteProduct.jsx\",\n  _s = $RefreshSig$();\nimport 'bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport { NavBar, AdminNavBar } from './nav';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function DeleteProduct() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [displayItems, setDisplayItems] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('http://localhost:8081/AmeroBakery');\n        const result = await response.json();\n        setItems(result);\n        setDisplayItems(result);\n      } catch (error) {\n        console.error('Error fetching the API', error);\n      }\n    };\n    fetchData();\n  }, []);\n  function deleteOneProduct(deleteid) {\n    console.log(\"Product to delete :\", deleteid);\n    fetch(\"http://localhost:8081/AmeroBakery/delete\", {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: deleteid\n      })\n    }).then(response => response.json()).then(data => {\n      console.log(\"Delete a product completed : \", deleteid);\n      console.log(data);\n      if (data) {\n        const updatedItems = items.filter(item => item.id !== deleteid);\n        setItems(updatedItems);\n        setDisplayItems(updatedItems);\n        const key = Object.keys(data);\n        const value = Object.values(data);\n        alert(key + value);\n      }\n    });\n  }\n  const handleProductEdit = productId => {\n    navigate(`/admin/productEdit/${productId}`);\n  };\n  const listItems = displayItems.map(el => /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: '../' + el.image,\n      alt: el.lable\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: el.lable\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"$\", el.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"view-product\",\n        onClick: () => deleteOneProduct(el.id),\n        children: \"Delete Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"view-product\",\n        onClick: () => handleProductEdit(el.id),\n        children: \"Edit Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, el.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(AdminNavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cards\",\n      children: listItems\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(DeleteProduct, \"p0o/yaIbI1EJjLYG16gAH1MdimM=\", false, function () {\n  return [useNavigate];\n});\n_c = DeleteProduct;\nvar _c;\n$RefreshReg$(_c, \"DeleteProduct\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","NavBar","AdminNavBar","jsxDEV","_jsxDEV","DeleteProduct","_s","items","setItems","displayItems","setDisplayItems","navigate","fetchData","response","fetch","result","json","error","console","deleteOneProduct","deleteid","log","method","headers","body","JSON","stringify","id","then","data","updatedItems","filter","item","key","Object","keys","value","values","alert","handleProductEdit","productId","listItems","map","el","className","children","src","image","alt","lable","fileName","_jsxFileName","lineNumber","columnNumber","price","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Alexis/OneDrive - Iowa State University/Documents/2023FallSemester/SE_319/GitPersonalRepo/ReactWebsite/frontend/src/DeleteProduct.jsx"],"sourcesContent":["import 'bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport {NavBar, AdminNavBar} from './nav';\r\n\r\nexport function DeleteProduct() {\r\n  const [items, setItems] = useState([]);\r\n  const [displayItems, setDisplayItems] = useState([]);\r\n  const navigate = useNavigate(); \r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:8081/AmeroBakery');\r\n        const result = await response.json();\r\n        setItems(result);\r\n        setDisplayItems(result);\r\n      } catch (error) {\r\n        console.error('Error fetching the API', error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  function deleteOneProduct(deleteid) {\r\n    console.log(\"Product to delete :\", deleteid);\r\n    fetch(\"http://localhost:8081/AmeroBakery/delete\", {\r\n      method: \"DELETE\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ id: deleteid }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(\"Delete a product completed : \", deleteid);\r\n        console.log(data);\r\n        if (data) {\r\n          const updatedItems = items.filter(item => item.id !== deleteid);\r\n          setItems(updatedItems);\r\n          setDisplayItems(updatedItems);\r\n          const key = Object.keys(data);\r\n          const value = Object.values(data);\r\n          alert(key + value);\r\n        }\r\n      });\r\n  }\r\n  const handleProductEdit = (productId) => {\r\n    navigate(`/admin/productEdit/${productId}`);\r\n  };\r\n\r\n  const listItems = displayItems.map((el) => (\r\n    <article key={el.id} className=\"card\">\r\n      <img src={'../'+el.image} alt={el.lable} />\r\n      <div className=\"card-content\">\r\n        <h1>{el.lable}</h1>\r\n        <p>${el.price}</p>\r\n        <br />\r\n        <button\r\n          className=\"view-product\"\r\n          onClick={() => deleteOneProduct(el.id)}\r\n        >\r\n          Delete Product\r\n        </button>\r\n        <button\r\n          className=\"view-product\"\r\n          onClick={() => handleProductEdit(el.id)}\r\n        >\r\n          Edit Product\r\n        </button>\r\n      </div>\r\n    </article>\r\n  ));\r\n\r\n  return (\r\n    <div>\r\n      <AdminNavBar></AdminNavBar>\r\n      <div className=\"cards\">\r\n        {listItems}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}